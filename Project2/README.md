# Project2
## 简介
    在网络层模拟实现DV路由算法
## 设计思路
### DV
    设计了两个类，node,topograph
    - node:节点类，主要功能有:
        + 接受消息
        + 发送消息
        + 重新计算DV信息
        + 交换DV信息
        + 周期性修改路径权重并告知邻居
    - topograph:拓扑图，存储整个拓扑图的信息，负责在每个节点运行之初告诉节点们自己所连接的邻居，以及它们所能够改变权重的路径
    
    节点类所发送的消息类型如下

|字段1|字段2|字段3|字段4|字段5|意义|
|-----|----|-----|-----|----|----|
|0|？|？|？|？|接受到了要转发给别人的消息|
|1|src_ip|dst_ip|message|/|接受到了别人发给自己的信息|
|2|route_weight_change|new_weight|/|/|“感知”到了路径的变化，实际上是修改了路径权重的邻居告诉它|

### LS（如果有时间）
## 具体实现
### DV
#### node
    类中的成员变量：
    - sck_input:收套接字
    - sck_output：发套接字
    - ip:自身的ip
    - neighbour:指示了到某邻居的路径花销。dict类型，建立了邻居ip和路径权重的一一对应关系
    - table:路由表，字典类型，建立了目的地址和下一条地址的一一对应关系
    - DV:指示到某个节点的最佳路径开销，字典类型，建立了节点ip和路径开销的一一对应关系
    - changable_route:指示自己能够修改的路径。list类型，存储的是某些邻居的ip，表示它能够修改自己到这个邻居的路径权重
    类的函数：
    - send_message：发送消息，（可否修改用于处理所有消息类型？对不同消息类型做出不同反应？）
    - recv：接受消息（可否修改用于发送所有消息类型？
    - recompute_DV:
    - exchange_DV：
    - pack_message:是否可以整合进send_message中？
    - unpack_message：是否可以整合到需要处理消息的函数中？
    - change_route：修改路径权重，并通知对应邻居。遍历自己的changeable_route列表，使用随机函数生成新的路径权重，将自身的neighbour中的路径权重信息更新，并且使用套接字向对应邻居发送路径权重变化的消息。
#### topograph
    类中的成员变量：
    - name_ip
    - link_cost：每一条路径的开销，类型是字典。tuple->int，tuple是由两个节点的ip组成的二元组，用来表示边，对应地有一个开销，为int类型。注意这个仅仅是初始化的开销，后续会动态变化（其实是不是不需要此函数？直接在node初始化中设置自己和邻居开销就可以？）
    - ip_changeable_route:存储每一个ip所能够修改的路径信息，类型是字典，str->list,每一个ip对应一个存储了某些邻居ip的list，表示它能够修改自己到这些邻居的路径
    类的函数：
    - initiaize_graph:图的初始化，如何连接，哪些节点改哪些路径之类。
    - node_changeable_route:直接返回对应ip的可修改路径列表（表现为邻居ip）即可
## 遇到的问题